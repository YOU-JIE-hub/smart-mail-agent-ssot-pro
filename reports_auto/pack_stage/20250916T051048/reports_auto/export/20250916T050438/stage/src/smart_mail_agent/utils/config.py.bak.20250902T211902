#!/usr/bin/env python3
# 檔案位置: src/smart_mail_agent/utils/config.py
# 模組用途: 統一載入環境參數與預設值（離線安全）。
from __future__ import annotations

import os
from typing import Any, Dict, Optional


def load_env() -> Dict[str, Any]:
    """
    參數:
        無
    回傳:
        dict: 重要環境參數的快照（皆為字串或簡單型別）
    """
    # 不強制依賴 python-dotenv；若未設置則回傳預設
    env = {
        "OFFLINE": os.environ.get("OFFLINE", "1"),
        "SMA_ROOT": os.environ.get("SMA_ROOT", os.getcwd()),
        "SMA_EML_DIR": os.environ.get("SMA_EML_DIR", ""),
        "SMA_SPAM_TARGET_RATE": os.environ.get("SMA_SPAM_TARGET_RATE", "0.38"),
        "SMA_FONT_TTF": os.environ.get("SMA_FONT_TTF", ""),  # PDF 中文字型（可選）
    }
    return env
