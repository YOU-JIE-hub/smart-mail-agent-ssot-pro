[
  {
    "path": "tools/e2e_route_actions.py",
    "exists": true,
    "size": 3773,
    "head": "from __future__ import annotations\nimport os, sys, json, time, re\nfrom pathlib import Path\n\ndef _call_rule(email:dict):\n    # 相容兩種 baseline：classify_rule(email, contract) / classify_rule(ema"
  },
  {
    "path": "tools/tri_suite.py",
    "exists": true,
    "size": 3581,
    "head": "from __future__ import annotations\nimport json, time, inspect\nfrom pathlib import Path\nfrom collections import defaultdict\n\nFIXTURES = Path(\"fixtures/eval_set.jsonl\")\nOUTROOT  = Path(\"reports_auto/eva"
  },
  {
    "path": "tools/pipeline_ml.py",
    "exists": true,
    "size": 3184,
    "head": "\nfrom __future__ import annotations\nfrom pathlib import Path\nimport json, sys, typing as T\n\n# --- alias: 讓舊 pickle 能在 __main__ 找到 rules_feat/prio_feat/bias_feat ---\ndef _alias_sma_features"
  },
  {
    "path": "tools/pipeline_ml_boosted.py",
    "exists": true,
    "size": 1330,
    "head": "from __future__ import annotations\nfrom tools.ml_io import predict as _ml_predict\nimport sma_features as F  # 規則特徵\n# 你的 IDX2NAME 如需客製可從外部載；先以簡化範例示意\nIDX2"
  },
  {
    "path": "tools/pipeline_baseline.py",
    "exists": true,
    "size": 2078,
    "head": "from __future__ import annotations\nimport json, re, os\nfrom pathlib import Path\nfrom typing import Dict, Any\nROOT = Path(os.environ.get(\"ROOT\") or Path.cwd())\ndef load_contract() -> Dict[str,Any]:\n   "
  },
  {
    "path": "tools/ml_io.py",
    "exists": true,
    "size": 4649,
    "head": "from __future__ import annotations\nimport os, sys, json, re, types\nfrom pathlib import Path\n\nDEFAULT_ML_PKL = Path(os.environ.get(\"SMA_INTENT_ML_PKL\") or \"artifacts/intent_pro_cal.pkl\")\nLABEL_MAP     "
  },
  {
    "path": "tools/orch/planner_bridge.py",
    "exists": true,
    "size": 3508,
    "head": "from __future__ import annotations\nimport os, importlib\nfrom typing import Any, Dict\n\ndef _load_thresholds() -> Dict[str,float]:\n    try:\n        pe = importlib.import_module(\"tools.orch.policy_engine"
  },
  {
    "path": "tools/orch/policy_engine.py",
    "exists": true,
    "size": 461,
    "head": "from __future__ import annotations\nimport json, pathlib, os\nINTENT_THR = pathlib.Path(\"reports_auto/intent/reports_auto/intent_thresholds.json\")\ndef load_thresholds():\n    if INTENT_THR.exists():\n    "
  },
  {
    "path": "tools/actions/action_bus.py",
    "exists": true,
    "size": 7327,
    "head": "from __future__ import annotations\nimport os, time, json, sqlite3\nfrom pathlib import Path\nfrom typing import Dict, Any, Optional\n\nDB_PATH = Path(\"db/sma.sqlite\")\nART_ROOT = Path(\"reports_auto/actions"
  },
  {
    "path": "src/sma_features.py",
    "exists": true,
    "size": 2521,
    "head": "from __future__ import annotations\nfrom pathlib import Path\nfrom typing import Any, List\nimport json, re\nimport numpy as np\nfrom scipy import sparse as sp\n\n_SPEC = Path(\"artifacts_prod/intent_feature_"
  },
  {
    "path": "fixtures/eval_set.jsonl",
    "exists": true,
    "size": 506,
    "head": "{\"intent\":\"一般回覆\",\"email\":{\"subject\":\"[一般回覆] 測試\",\"body\":\"hello\"}}\n{\"intent\":\"報價\",\"email\":{\"subject\":\"報價 請提供 單價:100 數量:2\",\"body\":\"\"}}\n{\"intent\":\"投訴\",\"email\""
  },
  {
    "path": "artifacts/intent_pro_cal.pkl",
    "exists": true,
    "size": 4924369,
    "head": "\u0004\u001a\u0000\u0001\u0000\u0000\u0000\u0000\u0000}\bpipeline\u0010sklearn.pipeline\bPipeline)}(\u0005steps](\bfeaturesh\u0002\fFeatureUnion)}(\u0010transformer_list](\u0004word\u001fsklearn.feature_extraction.text\u000fTfidfVectorizer)}(\u0005"
  },
  {
    "path": "artifacts_prod/model_pipeline.pkl",
    "exists": true,
    "size": 39332648,
    "head": "\u0004\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0010sklearn.pipeline\bPipeline)}(\u0005steps](\u000ftfidfvectorizer\u001fsklearn.feature_extraction.text\u000fTfidfVectorizer)}(\u0005input\u0007content\bencoding\u0005utf-8\fdecode_error\u0006strict"
  },
  {
    "path": "configs/intent_label_map.json",
    "exists": true,
    "size": 180,
    "head": "{\n  \"biz_quote\": \"報價\",\n  \"complaint\": \"投訴\",\n  \"other\": \"一般回覆\",\n  \"policy_qa\": \"規則詢問\",\n  \"profile_update\": \"資料異動\",\n  \"tech_support\": \"技術支援\"\n}"
  }
]
